/* Глобальная переменная для размера клетки поля */
:root{ --cell-size:40px; }

/* Стили для клетки сетки поля */
.grid-cell{
  width:var(--cell-size); /* Ширина клетки */
  height:var(--cell-size); /* Высота клетки */
  border:1px solid #ccc; /* Серый контур */
  background:#f9f9f9; /* Светлый фон */
  transition:background .1s; /* Плавное изменение цвета */
  position:relative; /* Для позиционирования фишек */
  overflow:visible; /* Фишки и тултипы не обрезаются */
}

/* Стили для фишки (token) на поле */
.token{
  position:absolute; /* Абсолютное позиционирование внутри клетки */
  left:50%; top:50%; /* Центрируем по клетке */
  transform:translate(-50%,-50%); /* Точное центрирование */
  width:80%; height:80%; /* Размер фишки относительно клетки */
  border-radius:50%; /* Круглая форма */
  display:flex; align-items:center; justify-content:center; /* Центрируем текст */
  font-weight:700; font-size:12px; line-height:1; /* Жирный и компактный текст */
  color:#fff; /* Белый текст */
  box-shadow:0 2px 5px rgba(0,0,0,.2); /* Тень для объёма */
  cursor:grab; /* Курсор "рука" при перетаскивании */
  user-select:none; /* Запрет выделения текста */
}

/* Tooltip для фишки (локальный, не глобальный) */
.token-tooltip {
  z-index: 20; /* Поверх других элементов */
  pointer-events: none; /* Не мешает кликам */
  position: absolute; /* Абсолютно относительно фишки */
  bottom: 120%; /* Сверху от фишки */
  left: 50%; /* По центру */
  transform: translateX(-50%); /* Центрируем по горизонтали */
  background: rgba(0,0,0,0.8); /* Тёмный фон */
  color: #fff; /* Белый текст */
  padding: 4px 8px; /* Отступы */
  border-radius: 4px; /* Скругление */
  font-size: 12px; /* Размер шрифта */
  white-space: nowrap; /* Не переносить текст */
  opacity: 0; /* Скрыт по умолчанию */
  transition: opacity 0.2s; /* Плавное появление */
}
.token:hover .token-tooltip{opacity:1;} /* Показываем tooltip при наведении */

/* Подсветка фишки при наведении на строку в списке */
.token.highlight {
  box-shadow: 0 0 0 6px #fff, 0 0 16px 4px #3b82f6, 0 2px 5px rgba(0,0,0,0.2); /* Яркая рамка и glow */
  outline: 2px solid #3b82f6; /* Синяя обводка */
  outline-offset: 2px; /* Отступ обводки */
}

/* ===== КУБИК ===== */
.dice-face{
  width:90px; height:90px; /* Размер кубика */
  border-radius:10px; /* Скругление углов */
  display:flex; align-items:center; justify-content:center; /* Центрирование */
  background:#e0eaff; /* Светло-синий фон */
  color:#1d4ed8; /* Синий текст */
  font:700 36px/1 system-ui; /* Крупный жирный текст */
  box-shadow:0 2px 5px rgba(0,0,0,.2); /* Тень */
  cursor:pointer; /* Курсор "рука" */
  transition:transform .2s; /* Плавное увеличение при наведении */
}
.dice-face:hover{transform:scale(1.05);} /* Эффект увеличения при наведении */
.dice-center{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;} /* Центрирование содержимого кубика */

/* Разные формы кубика с помощью clip-path */
.dice-face--d4    { clip-path: polygon(50% 0%, 100% 100%, 0% 100%); } /* Треугольник (d4) */
.dice-face--d6    { clip-path: inset(0% round 10px); } /* Квадрат (d6) */
.dice-face--d8    { clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); } /* Ромб (d8) */
.dice-face--d10   { clip-path: polygon(50% 0%, 95% 30%, 80% 100%, 20% 100%, 5% 30%); } /* Пятиугольник (d10) */
.dice-face--d12   { clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%); } /* Шестиугольник (d12) */
.dice-face--d20   { clip-path: polygon(50% 0%, 80% 10%, 100% 40%, 90% 80%, 60% 100%, 40% 100%, 10% 80%, 0% 40%, 20% 10%); } /* Восьмиугольник (d20) */
.dice-face--d100  { clip-path: circle(50% at 50% 50%); } /* Круг (d100) */ 